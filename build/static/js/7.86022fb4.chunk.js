(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[7],{133:function(e,t,n){"use strict";n.d(t,"c",(function(){return l})),n.d(t,"a",(function(){return d})),n.d(t,"b",(function(){return u}));var c=n(86),a=n(309),i=n(158),r=n.n(i),o=(n(145),Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HOST_API:"cursos.fcpn.edu.bo"}).REACT_APP_HOST_PORT),s=r.a.create({baseURL:"http://".concat("cursos.fcpn.edu.bo",":").concat(o,"/api/"),timeout:5e3,headers:{"Content-Type":"application/json"},mode:"cors"}),l=function(e,t,n){n(!0),s.get("/".concat(e)).then((function(e){console.log("res.data",e.data),t(e.data.data)})).catch((function(e){console.log("err",e),t(null),c.a.error({message:"No se pudo obtener la lista de alumnos",description:"Hubo un error al obtener la lista de alumnos "+e,className:"notifications"})})).finally((function(){return n(!1)}))},d=function(e,t,n,c){n(!0),s.post("/".concat(e),t).then((function(){a.a.success({title:"Registrado con exito",content:"Se registro su usuario satisfactoriamente"}),c&&c()})).catch((function(e){a.a.error({title:"Error al registrar",content:"No se pudo registrar: "+JSON.parse(e.request.response).message})})).finally((function(){return n(!1)}))},u=function(e){s.delete("/upload/".concat(e)).then((function(e){console.log("res.data",e.data)})).catch((function(e){return console.log("err",e)}))}},145:function(e,t,n){},289:function(e,t,n){},311:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return g}));var c=n(124),a=n(0),i=n(284),r=n(123),o=n(133),s=n(302),l=n(127),d=n(308),u=n(313),j=n(14),h=function(e,t){var n=Object(a.useState)({}),i=Object(c.a)(n,2),o=i[0],s=i[1],h=Object(a.useState)({}),O=Object(c.a)(h,2),b=(O[0],O[1]),m=Object(a.useRef)(null),p=Object(a.useState)(""),f=Object(c.a)(p,2),x=(f[0],f[1]),g=Object(a.useState)(""),S=Object(c.a)(g,2),v=(S[0],S[1]),_=function(e,t,n){t(),x(e[0]),v(n)},y=function(e){return{filterDropdown:function(t){var n=t.setSelectedKeys,c=t.selectedKeys,a=t.confirm,i=t.clearFilters;return Object(j.jsxs)("div",{style:{padding:8},children:[Object(j.jsx)(d.a,{ref:m,placeholder:"Search ".concat(e),value:c[0],onChange:function(e){return n(e.target.value?[e.target.value]:[])},onPressEnter:function(){return _(c,a,e)},style:{marginBottom:8,display:"block"}}),Object(j.jsxs)(u.b,{children:[Object(j.jsx)(r.a,{type:"primary",onClick:function(){return _(c,a,e)},icon:Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-6 w-6",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",height:12,width:12,children:Object(j.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})}),size:"small",style:{width:90},children:"Buscar"}),Object(j.jsx)(r.a,{onClick:function(){return function(e){e(),x("")}(i)},size:"small",style:{width:90},children:"Limpiar"}),Object(j.jsx)(r.a,{type:"link",size:"small",onClick:function(){a({closeDropdown:!1}),x(c[0]),v(e)},children:"Filtrar"})]})]})},filterIcon:function(e){return Object(j.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:e?"#1890ff":"#c0c0c0",height:18,width:18,children:Object(j.jsx)("path",{fillRule:"evenodd",d:"M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z",clipRule:"evenodd"})})},onFilter:function(t,n){return n[e]?n[e].toString().toLowerCase().includes(t.toLowerCase()):""},onFilterDropdownVisibleChange:function(e){e&&m&&window.setTimeout((function(){return m.focus}),100)}}};return{columns:[Object(l.a)({title:"Nombre",dataIndex:"name",key:"name",onFilter:function(e,t){return t.name.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"name"===o.columnKey&&o.order,ellipsis:!0},y("name")),Object(l.a)({title:"Primer apellido",dataIndex:"firstLastName",key:"firstLastName",onFilter:function(e,t){return t.firstLastName.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"firstLastName"===o.columnKey&&o.order,responsive:["md"]},y("firstLastName")),Object(l.a)({title:"Segundo apellido",dataIndex:"secondLastName",key:"secondLastName",onFilter:function(e,t){return t.secondLastName.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},sortOrder:"secondLastName"===o.columnKey&&o.order,responsive:["md"]},y("secondLastName")),Object(l.a)({title:"C.I.",dataIndex:"ci",key:"ci",onFilter:function(e,t){return t.ci.includes(e)},sorter:function(e,t){return e.name.length-t.name.length},responsive:["md"]},y("ci")),{title:"Opciones",dataIndex:"options",key:"options",render:function(n,c){return Object(j.jsx)(u.b,{size:"middle",children:Object(j.jsx)(r.a,{type:"primary",onClick:function(){t(!0),e(c)},children:"Ver Detalles"})})}}],handleChange:function(e,t,n){b(t),s(n)}}},O=n(312),b=n(300),m=n(309);function p(e){var t=e.studentData,n=e.isVisible,i=e.setIsVisible,o=Object(a.useState)(!1),s=Object(c.a)(o,2),l=s[0],d=s[1],u=window.window.screen.width;return Object(j.jsxs)(O.a,{title:"Datos del formulario de registro del estudiante",placement:"right",width:u>=640?"30%":"70%",destroyOnClose:!0,onClose:function(){return i(!1)},visible:n,children:[Object(j.jsx)("h2",{children:"Datos personales"}),Object(j.jsx)("h3",{children:"Nombre: "}),Object(j.jsx)("p",{children:t.name}),Object(j.jsx)("h3",{children:"Primer apellido: "}),Object(j.jsx)("p",{children:t.fistLastName}),Object(j.jsx)("h3",{children:"Segundo apellido: "}),Object(j.jsx)("p",{children:t.secondLastName}),Object(j.jsx)("h3",{children:"Ciudad: "}),Object(j.jsx)("p",{children:t.city}),Object(j.jsx)("h3",{children:"Carnet de identidad: "}),Object(j.jsx)("p",{children:t.ci}),Object(j.jsx)("h3",{children:"Email: "}),Object(j.jsx)("p",{children:t.email}),Object(j.jsx)("h3",{children:"Telefono: "}),Object(j.jsx)("p",{children:t.tellphone}),Object(j.jsx)("h3",{children:"Celular: "}),Object(j.jsx)("p",{children:t.cellphone}),Object(j.jsx)(b.a,{}),Object(j.jsx)("h2",{children:"Datos para la factura"}),Object(j.jsx)("h3",{children:"Nombre de la factura: "}),Object(j.jsx)("p",{children:t.invoice&&t.invoice.name}),Object(j.jsx)("h3",{children:"NIT: "}),Object(j.jsx)("p",{children:t.invoice&&t.invoice.nit}),Object(j.jsx)(b.a,{}),Object(j.jsx)("h2",{children:"Datos para la factura"}),Object(j.jsx)("h3",{children:"Fecha de pago: "}),Object(j.jsx)("p",{children:t.payment&&t.payment.dateOfPay}),Object(j.jsx)("h3",{children:"Boleta de pago: "}),Object(j.jsx)(r.a,{type:"primary",onClick:function(){return d(!0)},children:"Ver boleta de pago"}),Object(j.jsx)(m.a,{width:750,title:"Boleta de pago",visible:l,destroyOnClose:!0,onCancel:function(){return d(!1)},children:Object(j.jsx)("embed",{src:t.payment&&"http://cursos.fcpn.edu.bo:"+Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HOST_API:"cursos.fcpn.edu.bo"}).REACT_APP_HOST_PORT+t.payment.urlFile,width:"100%",height:"400px"})}),Object(j.jsx)(b.a,{})]})}function f(e){var t=e.data,n=e.isLoading,i=Object(a.useState)({}),r=Object(c.a)(i,2),o=r[0],l=r[1],d=Object(a.useState)(!1),u=Object(c.a)(d,2),O=u[0],b=u[1],m=h(l,b),f=m.columns,x=m.handleChange;return Object(j.jsxs)("div",{className:"table",children:[Object(j.jsx)(s.a,{dataSource:t,columns:f,loading:n,onChange:x}),Object(j.jsx)(p,{studentData:o,isVisible:O,setIsVisible:b})]})}var x=n(288);n(289);function g(){var e=Object(i.useState)(),t=Object(c.a)(e,2),n=t[0],s=t[1],d=Object(i.useState)(!1),u=Object(c.a)(d,2),h=u[0],O=u[1],b=function(e){var t={};t.fileName="Lista De Alumno "+(new Date).toLocaleDateString("es-ES"),t.datas=[{sheetData:e.map((function(e){return Object(l.a)(Object(l.a)({},e),{},{invoiceName:e.invoice.name,invoiceNit:e.invoice.nit,paymentDateOfPay:e.payment.dateOfPay,paymentUrlFile:"http://cursos.fcpn.edu.bo:"+Object({NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_HOST_API:"cursos.fcpn.edu.bo"}).REACT_APP_HOST_PORT+e.payment.urlFile})})),sheetFilter:["name","firstLastName","secondLastNameLastName","ci","tellphone","cellphone","email","city","invoiceName","invoiceNit","paymentDateOfPay","paymentUrlFile"],sheetHeader:["Nombres","Primer apellido","Segundo apellido","C.I.","Telefono","Celular","Email","Ciudad","Nombre de la factura","Nit de la factura","Fecha de pago","Url de la boleta de pago"]}],new x(t).saveExcel()};return Object(a.useEffect)((function(){Object(o.c)("students",s,O)}),[]),Object(j.jsxs)("div",{className:"container",children:[Object(j.jsx)("div",{className:"header",children:Object(j.jsx)("h1",{children:"Lista de insctitos"})}),Object(j.jsx)("div",{className:"action__buttons",children:Object(j.jsx)(r.a,{type:"primary",className:"button__excel",onClick:function(){return b(n)},children:"Exportar excel"})}),Object(j.jsx)(f,{data:n,isLoading:h})]})}}}]);
//# sourceMappingURL=7.86022fb4.chunk.js.map